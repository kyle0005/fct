<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta charset="utf-8">
  <meta name="description" content="">
  <title>main</title>
  <link rel="stylesheet" href="./../public/styles/main.css">
</head>
<body>
<div class="art-container" id="artist" v-cloak>
  <head-top></head-top>
  <section class="live" id="live_container">
    <div class="container">
      <div class="inner" v-if="haslive">
        <a href="javascript:;" class="play">
        <span class="fa-stack fa-lg">
          <i class="fa fa-circle-thin fa-stack-2x"></i>
          <i class="fa fa-play fa-stack-1x def"></i>
        </span>
          <span class="info live-now">正在直播</span>
        </a>
        <img src="public/images/resource/imgs.png" >
        <div class="info join-num">1234214241人关注</div>
      </div>
      <div class="inner" v-else>
        <img :src="artist.banner">
        <div class="info join-num">{{ artist.followCount }}人关注</div>
      </div>
    </div>
  </section>
  <section class="nav-bar">
    <ul class="art-tab">
      <li class="item" v-for="(item, index) in tabs" :class="{chosen: index===tab_num}" @click="linkTo(index)">
        <a href="javascript:;">
          {{ item }}
        </a>
      </li>
    </ul>
  </section>
  <keep-alive>
    <component :is="currentView">
    </component>
  </keep-alive>
</div>
<script src="public/scripts/vue.js"></script>
<script src="public/scripts/api/index.js"></script>
<template id="photo">
  <div class="photogallery-container">
    <transition appear name="v-img-fade">
      <div v-if="!closed" class='fullscreen-v-img' @click.self="close()">
        <div class="header-v-img">
          <span v-if="images.length > 1" class="count-v-img">{{ currentImageIndex + 1 }}/{{ images.length }}</span>
          <span class="close-v-img" @click="close">&times;</span>
        </div>
        <transition appear name="v-img-fade">
        <span v-if="visibleUI && images.length !== 1" class="prev-v-img" @click="prev">
          <svg width="25" height="25" viewBox="0 0 1792 1915" xmlns="http://www.w3.org/2000/svg"><path d="M1664 896v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z" fill="#fff"/></svg>
        </span>
        </transition>
        <transition appear name="v-img-fade">
        <span v-if="visibleUI && images.length !== 1" class="next-v-img" @click="next">
          <svg width="25" height="25" viewBox="0 0 1792 1915" xmlns="http://www.w3.org/2000/svg"><path d="M1600 960q0 54-37 91l-651 651q-39 37-91 37-51 0-90-37l-75-75q-38-38-38-91t38-91l293-293h-704q-52 0-84.5-37.5t-32.5-90.5v-128q0-53 32.5-90.5t84.5-37.5h704l-293-294q-38-36-38-90t38-90l75-75q38-38 90-38 53 0 91 38l651 651q37 35 37 90z" fill="#fff"/></svg>
        </span>
        </transition>
        <div class="content-v-img">
          <img :src="images[currentImageIndex]" @click="next">
        </div>
      </div>
    </transition>
  </div>
</template>
<script type="text/x-template" id="head_top">
  <header class="head-container">
    <ul class="nav">
      <li class="toggle" @click="toggle()">
        <i class="fa fa-bars"></i>
      </li>
      <li class="logo" @click="toIndex()">
        <img :src="img_url + '/logo.png'">
      </li>
      <li class="user" @click="toLogin()">
        <span class="img-container">
          <img src="public/images/resource/emptyPhoto.png">
        </span>
      </li>
    </ul>
    <div class="aside" :class="{open:open,docked:docked}" @click="toggle()">
      <div class="container">
        <ul class="types">
          <li class="item" v-for="(types, index) in typeList" @click="change(types.code)">
            <span>{{ types.name }}</span>
            <i class="fa fa-angle-right"></i>
          </li>
        </ul>
        <ul class="lines clearfix">
          <li class="item">
            <a href="javascript:;">
              <img src="public/images/menu1.png">
              <span>合作艺师</span>
            </a>
          </li>
          <li class="item">
            <a href="javascript:;">
              <img src="public/images/menu2.png">
              <span>百科</span>
            </a>
          </li>
          <li class="item">
            <a href="javascript:;">
              <img src="public/images/menu3.png">
              <span>个性定制</span>
            </a>
          </li>
          <li class="item">
            <a href="javascript:;">
              <img src="public/images/menu4.png">
              <span>APP下载</span>
            </a>
          </li>
          <li class="item">
            <a href="javascript:;">
              <img src="public/images/menu5.png">
              <span>品牌理念</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </header>
</script>
<script type="text/x-template" id="live">
  <div class="tabs">
    <section class="ptop">
      <div class="text">{{ top.content }}</div>
      <div class="media" >
        <mVideo v-if="top.videoUrl !== ''" :poster="top.videoImage" :url="top.videoUrl" id="'video' + top.id"></mVideo>
        <ul class="img-list clearfix" v-if="topImg">
          <li v-for="(imgs, index) in top.images">
            <!--<img v-img="{ group: 'top', lsrc: top.largeImages[index]}"  v-view="imgs" src="public/images/img_loader.gif">-->
          </li>
        </ul>
      </div>
    </section>
    <ul class="news" v-load-more="nextPage" type="1">
      <li class="item" v-for="(item, index) in liveList">
        <div class="text">{{ item.content }}{{ item.id }}</div>
        <div class="media">
          <mVideo v-if="item.videoUrl !== ''" :poster="item.videoImage" :url="item.videoUrl" id="'video' + item.id"></mVideo>
          <ul class="img-list clearfix" v-if="item.images.length > 0">
            <li v-for="(img, i) in item.images">
              <img v-img="{ group: item.id, lsrc: item.largeImages[index]}" lsrc="item.largeImages[index]}"  v-view="img" src="public/images/img_loader.gif">
              {{ item.largeImages[index] }}{{ item.largeImages[index] }}
            </li>
          </ul>
        </div>
      </li>
    </ul>
    <footer class="loader_more" v-show="preventRepeatReuqest">正在加载更多...</footer>
  </div>
</script>
<script type="text/x-template" id="works">
  <div class="tabs">
    <ul class="pro-list">
      <li v-for="(item, index) in workslist">
        <div class="inner">
          <div class="left">
            <img :src="item.defaultImage">
          </div>
          <div class="right">
            <div class="title overText">{{ item.name }}</div>
            <div class="text overTextH2">{{ item.intro }}</div>
            <div class="price overText"><small class="pri-mark">￥</small>{{ item.price }}</div>
            <div class="btn-container">
              <a href="javascript:;" class="btn">我要购买</a>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>
</script>
<script type="text/x-template" id="chat">
  <div class="tabs">
    <ul class="chat-list" v-load-more="nextPage" type="1">
      <li v-for="(item, index) in chatlist">
        <div class="inner">
          <div class="info">
            <div class="img-container">
              <img :src="item.headPortrait">
            </div>
            <div class="user">{{ item.userName }}</div>
            <div class="time">{{ item.createTime }}</div>
          </div>
          <div class="context">{{ item.content }}</div>
          <div class="reply-container" v-if="item.replyContent.length > 0">
            <div class="icon"><img src="public/images/reply.png"></div>
            <div class="reply" v-for="(reply, index) in item.replyContent">{{ reply }}</div>
          </div>
        </div>
      </li>
    </ul>
    <footer class="loader_more" v-show="preventRepeatReuqest">正在加载更多...</footer>
    <section class="sub-chat">
      <div class="inner">
        <a href="javascript:;" class="sub" @click="popchat()">
        <span class="img">
          <img src="public/images/reply_chat.png">
        </span>
          <span class="txt">请输入要表达的信息</span>
        </a>
        <div class="aside" :class="{open:open,docked:docked}" @click.prevent="popchat()">
          <div class="container" @click.stop="">
            <form id="chat_form">
              <div class="inner">
                <div class="top">
                  <a href="javascript:;" class="cancel" @click.prevent="popchat()">取消</a>
                  <span class="title">我来聊两句</span>
                  <a href="javascript:;" class="send">
                    <subpost :txt="subText" ref="subpost" @callback="send" @succhandle="succhandle"></subpost>
                  </a>
                </div>
                <textarea class="textarea" v-model="message"></textarea>
              </div>
            </form>
          </div>
        </div>
      </div>

    </section>
    <pop v-if="showAlert" :showHide="showAlert" @close="close" :msg="msg"></pop>
  </div>
</script>
<template id="m_video">
  <div class="m-video-container">
    <div class="video-inner">
      <div v-if="!isVideoLoad" class="play-container" @click="loadVideo()">
        <img :src="poster" class="poster-img" />
        <img src="public/images/video_play.png" class="poster-play" />
      </div>
      <video class="m-video" :src="url" :id="id" preload="metadata" controls v-else></video>
    </div>
  </div>
</template>
<script>
  config = {
    "productsType": [
      {
        "name": "全部",
        "code": "a"
      },
      {
        "name": "圆器",
        "code": "b"
      },
      {
        "name": "方器",
        "code": "c"
      },
      {
        "name": "花器",
        "code": "d"
      },
      {
        "name": "筋纹器",
        "code": "e"
      }

    ],
    "main_url": "http://localhost:9000/main.html",
    "index": "index.html",
    "login": "login.html",
    "artist":
      {
        "followCount":0,
        "name":"顾景舟11",
        "banner":"http:\/\/fct-nick.img-cn-shanghai.aliyuncs.com\/upload\/2017-06-22\/682efd0ab90940e0a9f664d029cf7d14.jpeg",
        "id":1,
        "dynamicList":
          {
            "entries":
              [
                {
                  "images":[],
                  "largeImages": [],
                  "videoImage":"//vjs.zencdn.net/v/oceans.png",
                  "videoUrl":"http://200006282.vod.myqcloud.com/200006282_42ca7ffa1e9011e692fe0785d455c86c.f20.mp4",
                  "id":1,
                  "content":"ssss",
                  "isTop": false
                },
                {
                  "images":
                    [
                      "http:\/\/fct-nick.img-cn-shanghai.aliyuncs.com\/upload\/2017-06-23\/8101370a8a1b48669c9a64f0f74264bc.png"
                    ],
                  "largeImages": [
                    "http:\/\/fct-nick.img-cn-shanghai.aliyuncs.com\/upload\/2017-06-23\/8101370a8a1b48669c9a64f0f74264bc.png"
                  ],
                  "videoImage":"\/images\/default-null.png",
                  "videoUrl":"",
                  "id":2,
                  "content":"ssss",
                  "isTop": false
                },
                {
                  "images":
                    [
                      "http:\/\/fct-nick.img-cn-shanghai.aliyuncs.com\/upload\/2017-06-23\/8101370a8a1b48669c9a64f0f74264bc.png",
                      "/public/images/resource/pro01.png",
                      "/public/images/resource/pro.png",
                      "/public/images/resource/pug.png",
                    ],
                  "largeImages": [
                    "/public/images/resource/pro01.png",
                    "/public/images/resource/pro01.png",
                    "/public/images/resource/pug.png",
                    "/public/images/resource/pug.png",
                  ],
                  "videoImage":"//vjs.zencdn.net/v/oceans.png",
                  "videoUrl":"",
                  "id":5,
                  "content":"ssss",
                  "isTop": true
                },
                {
                  "images":
                    [
                      "/public/images/resource/pro.png",
                      "/public/images/resource/pro02.png",
                      "/public/images/resource/pro.png",
                    ],
                  "largeImages": [
                    "/public/images/resource/pro.png",
                    "/public/images/resource/pro02.png",
                    "/public/images/resource/pro.png",
                  ],
                  "videoImage":"//vjs.zencdn.net/v/oceans.png",
                  "videoUrl":"",
                  "id":4,
                  "content":"ssss",
                  "isTop": false
                },
                {
                  "images":
                    [
                      "/public/images/resource/pro01.png",
                      "/public/images/resource/pro01.png",
                      "/public/images/resource/pro01.png",
                    ],
                  "largeImages": [
                    "/public/images/resource/pro01.png",
                    "/public/images/resource/pro01.png",
                    "/public/images/resource/pro01.png",
                  ],
                  "videoImage":"//vjs.zencdn.net/v/oceans.png",
                  "videoUrl":"",
                  "id":7,
                  "content":"ssss",
                  "isTop": false
                },
                {
                  "images":
                    [
                      "/public/images/resource/pro02.png",
                      "/public/images/resource/pro02.png",
                      "/public/images/resource/pro02.png",
                    ],
                  "largeImages": [
                    "/public/images/resource/pro02.png",
                    "/public/images/resource/pro02.png",
                    "/public/images/resource/pro02.png",
                  ],
                  "videoImage":"//vjs.zencdn.net/v/oceans.png",
                  "videoUrl":"",
                  "id":8,
                  "content":"ssss",
                  "isTop": false
                },
                {
                  "images":
                    [
                      "/public/images/resource/pug.png",
                      "/public/images/resource/pug.png",
                      "/public/images/resource/pug.png",
                    ],
                  "largeImages": [
                    "/public/images/resource/pug.png",
                    "/public/images/resource/pug.png",
                    "/public/images/resource/pug.png",
                  ],
                  "videoImage":"//vjs.zencdn.net/v/oceans.png",
                  "videoUrl":"",
                  "id":9,
                  "content":"ssss",
                  "isTop": false
                },
                {
                  "images":
                    [
                      "/public/images/resource/pro.png",
                      "/public/images/resource/pro02.png",
                      "/public/images/resource/pro.png",
                    ],
                  "largeImages": [
                    "/public/images/resource/pro.png",
                    "/public/images/resource/pro02.png",
                    "/public/images/resource/pro.png",
                  ],
                  "videoImage":"//vjs.zencdn.net/v/oceans.png",
                  "videoUrl":"",
                  "id":10,
                  "content":"ssss",
                  "isTop": false
                },
                {
                  "images": [],
                  "largeImages": [],
                  "videoImage":"//vjs.zencdn.net/v/oceans.png",
                  "videoUrl":"//vjs.zencdn.net/v/oceans.mp4",
                  "id":3,
                  "content":"组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件组件",
                  "isTop": false
                }
              ],
            "pager":
              {
                "prev":0,
                "current":1,
                "next":1,
                "page_size":20,
                "total_page":1,
                "total":1
              }
          }
      },
    "artistPage_url": "http://localhost:3000/artistPagexxxx",
    "artistWorks_url": "http://localhost:3000/artistWorks",
    "artistChat_url": "http://localhost:3000/artistChat",
    "chat_url": "aaaaaa"
  }
</script>
<script src="public/scripts/common/tools.js"></script>
<script src="public/scripts/head.js"></script>
<script src="public/scripts/artist.js"></script>
</body>
</html>
